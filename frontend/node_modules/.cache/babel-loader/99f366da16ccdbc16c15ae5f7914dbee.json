{"ast":null,"code":"var _jsxFileName = \"E:\\\\04-PROJEKTI\\\\online-hats\\\\frontend\\\\src\\\\screens\\\\productScreen.js\";\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { detailsProduct } from '../redux/product/products.actions';\nimport Rating from '../components/rating';\n\nfunction ProductScreen(props) {\n  const [qty, setQty] = useState(1);\n  const productDetails = useSelector(state => state.productDetails);\n  const {\n    product,\n    loading,\n    error\n  } = productDetails;\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(detailsProduct(props.match.params.id));\n    console.log(props.match.params.id);\n    return () => {//\n    };\n  }, []);\n\n  const handleAddToCart = () => {\n    props.history.push(\"/cart/\" + props.match.params.id + \"?qty=\" + qty);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 2\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"back-to-result\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 4\n    }\n  }, \"<< Back to result\")), loading ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 17\n    }\n  }, \"Loading...\") : error ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }\n  }, error) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"details-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: product.img,\n    alt: \"product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 5\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"details-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 10\n    }\n  }, product.name)), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#reviews\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Rating, {\n    value: product.rating,\n    text: product.numReview + ' reviews',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 8\n    }\n  }))), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 6\n    }\n  }, \"Price: \", /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }\n  }, \"\\u20AC\", product.price)), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 6\n    }\n  }, \"Description:\", /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, product.description)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"details-action\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 6\n    }\n  }, \"Price: \\u20AC\", product.price), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 6\n    }\n  }, \"Status: \", product.countInStock > 0 ? \"In stock\" : \"Out of stock\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 6\n    }\n  }, \"Qty: \", /*#__PURE__*/React.createElement(\"select\", {\n    value: qty,\n    onChange: e => {\n      setQty(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 15\n    }\n  }, [...Array(product.countInStock).keys()].map(x => /*#__PURE__*/React.createElement(\"option\", {\n    key: x + 1,\n    value: x + 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 8\n    }\n  }, x + 1)))), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 6\n    }\n  }, product.countInStock > 0 && /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleAddToCart,\n    className: \"button primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 8\n    }\n  }, \"Add to cart\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content-margined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 3\n    }\n  }, product.reviews.length && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 31\n    }\n  }, \"There is no review\"), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"review\",\n    id: \"reviews\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 4\n    }\n  }, product.reviews.map(review => () => {\n    /*#__PURE__*/\n    React.createElement(\"li\", {\n      key: review._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 7\n      }\n    }, review.name), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Rating, {\n      value: review.rating,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 8\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 7\n      }\n    }, review.createdAt.substring(0, 10)), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 7\n      }\n    }, review.comment(0, 10)));\n  }), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 6\n    }\n  }, \"Write a customer review\"), userInfo ? /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: submitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 18\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"form-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"rating\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, \"Rating\"), /*#__PURE__*/React.createElement(\"select\", {\n    name: \"rating\",\n    id: \"rating\",\n    value: rating,\n    onChange: e => setRating(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 10\n    }\n  }, \"1-Poor\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 10\n    }\n  }, \"2-Fair\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 10\n    }\n  }, \"3-Good\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 10\n    }\n  }, \"4-Very Good\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 10\n    }\n  }, \"5-Excelent\"))), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"comment\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }, \"Comment\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    name: \"comment\",\n    value: comment,\n    onChange: e => setComment(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"button primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }\n  }, \"Submit\")))) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 6\n    }\n  }, \"Please, \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/signin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 19\n    }\n  }, \"Sign-in\"), \" to write review \"))))));\n}\n\nexport default ProductScreen;","map":{"version":3,"sources":["E:/04-PROJEKTI/online-hats/frontend/src/screens/productScreen.js"],"names":["React","useEffect","useState","Link","useSelector","useDispatch","detailsProduct","Rating","ProductScreen","props","qty","setQty","productDetails","state","product","loading","error","dispatch","match","params","id","console","log","handleAddToCart","history","push","img","name","rating","numReview","price","description","countInStock","e","target","value","Array","keys","map","x","reviews","length","review","_id","createdAt","substring","comment","userInfo","submitHandler","setRating","setComment"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport { detailsProduct } from '../redux/product/products.actions';\r\nimport Rating from '../components/rating';\r\n\r\nfunction ProductScreen(props) {\r\n\tconst [qty, setQty] = useState(1);\r\n\tconst productDetails = useSelector(state => state.productDetails);\r\n\tconst { product, loading, error } = productDetails;\r\n\tconst dispatch = useDispatch();\r\n\tuseEffect(()=> {\r\n\t\tdispatch(detailsProduct(props.match.params.id));\r\n\t\tconsole.log(props.match.params.id);\r\n\t\treturn () => {\r\n\t\t\t//\r\n\t\t};\r\n\t}, []);\r\n\tconst handleAddToCart = () => {\r\n\t\tprops.history.push(\"/cart/\" + props.match.params.id + \"?qty=\" + qty);\r\n\t}\r\n\treturn (\r\n\t<div>\r\n\t\t<div className='back-to-result'>\r\n\t\t\t<Link to='/'>&#60;&#60; Back to result</Link>\r\n\t\t</div>\r\n\t\t{ loading ? ( <div>Loading...</div> ) : \r\n\t\terror ? ( <div>{error}</div>    \r\n\t\t) : (\r\n\t\t<>\t\t\r\n\t\t<div className='details'>\r\n\t\t\t<div className='details-image'>\r\n\t\t\t\t<img src={product.img} alt='product' />\r\n\t\t\t</div>\r\n\t\t\t<div className='details-info'>\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t<li><h4>{product.name}</h4></li>\t\t\t\t\t\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<a href=\"#reviews\">\r\n\t\t\t\t\t\t\t<Rating value={product.rating} text={product.numReview + ' reviews'}/>\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>Price: <b>&#8364;{product.price}</b></li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\tDescription: \r\n\t\t\t\t\t\t<div>{product.description}</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t\t<div className='details-action'>\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t<li>Price: &#8364;{product.price}</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\tStatus: {product.countInStock > 0 ? \"In stock\": \"Out of stock\"}\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>Qty: <select value={qty} onChange={(e) => {setQty(e.target.value)}}>\r\n\t\t\t\t\t\t{[...Array(product.countInStock).keys()].map(x=> \r\n\t\t\t\t\t\t\t<option key={x+1} value={x+1}>{x+1}</option>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</select>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t{product.countInStock> 0 && \r\n\t\t\t\t\t\t\t<button onClick={handleAddToCart} className='button primary'>Add to cart</button>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div className='content-margined'>\r\n\t\t\t{product.reviews.length && <div>There is no review</div>}\r\n\t\t\t<ul className='review' id=\"reviews\">\t\t\t\r\n\t\t\t{\r\n\t\t\t\tproduct.reviews.map(review => () => { \r\n\t\t\t\t\t<li key={review._id}>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{review.name}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Rating value={review.rating} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{review.createdAt.substring(0,10)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{review.comment(0,10)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<h3>Write a customer review</h3>\r\n\t\t\t\t\t{userInfo ? <form onSubmit={submitHandler}> \r\n\t\t\t\t\t\t<ul className='form-container'>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<label htmlFor='rating'>Rating</label>\r\n\t\t\t\t\t\t\t\t<select name=\"rating\" id=\"rating\" value={rating} onChange={(e) => setRating(e.target.value)} >\r\n\t\t\t\t\t\t\t\t\t<option value=\"1\">1-Poor</option>\r\n\t\t\t\t\t\t\t\t\t<option value=\"2\">2-Fair</option>\r\n\t\t\t\t\t\t\t\t\t<option value=\"3\">3-Good</option>\r\n\t\t\t\t\t\t\t\t\t<option value=\"4\">4-Very Good</option>\r\n\t\t\t\t\t\t\t\t\t<option value=\"5\">5-Excelent</option>\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"comment\">Comment</label>\r\n\t\t\t\t\t\t\t\t<textarea name=\"comment\" value={comment} onChange={(e) => setComment(e.target.value)} />\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<button type=\"submit\" className=\"button primary\">Submit</button>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</form> : \r\n\t\t\t\t\t<div>Please, <Link to='/signin'>Sign-in</Link> to write review </div> }\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</div>\t\r\n\t\t</>\t\r\n\t\t)}\t\t\t\t\r\n\t</div>\r\n\t);\r\n}\r\nexport default ProductScreen;"]},"metadata":{},"sourceType":"module"}